<!DOCTYPE html>
<html>
<head>
    <title>–°–∫—Ä–∏–ø—Ç—ã Arma 2</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="card">
        <h2>üîÑ –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å–ø–∞–≤–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤</h2>
        
        <h3>1. init.sqf</h3>
        <pre><code>// –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
if (isServer) then {
    missionNamespace setVariable ["pl1_params", [
        {otschet=true},
        {this setCaptive false},
        {this addRating -10000},
        {this addWeapon "Binocular_Vector"},
        {box1_checked = false},
        {box2_checked = false},
        {box3_checked = false},
        {Doc = 0},
        {deleteopfor attachTo[player01,[0,0,0]]}
    ]];
    
    missionNamespace setVariable ["pl2_params", [
        {otschet=true},
        {this setCaptive false},
        {this addRating -10000},
        {this addWeapon "Binocular_Vector"},
        {box1_checked = false},
        {box2_checked = false},
        {box3_checked = false},
        {Doc = 0},
        {deleteopfor attachTo[player01,[0,0,0]]}
    ]];

    // –ú–∞—Ä–∫–µ—Ä—ã –¥–ª—è —Ä–µ—Å–ø–∞–≤–Ω–∞ (—Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ)
    respawnMarkers = ["respawn_west", "respawn_east"];
    publicVariable "respawnMarkers";
    publicVariable "pl1_params";
    publicVariable "pl2_params";
};</code></pre>

        <h3>2. onPlayerRespawn.sqf</h3>
        <pre><code>// –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ —Ä–µ—Å–ø–∞–≤–Ω–µ
params ["_newUnit", "_oldUnit"];

// –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —Ç—Ä—É–ø
if (!isNull _oldUnit) then {
    hideBody _oldUnit;
    sleep 5;
    deleteVehicle _oldUnit;
};

// –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ç–æ—á–∫—É —Ä–µ—Å–ø–∞–≤–Ω–∞
_respawnPos = getMarkerPos (selectRandom respawnMarkers);
_newUnit setPos _respawnPos;

// –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
switch (str(_newUnit)) do {
    case "pl1": {
        {call _x} forEach (missionNamespace getVariable "pl1_params");
        systemChat "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã pl1 –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã";
    };
    case "pl2": {
        {call _x} forEach (missionNamespace getVariable "pl2_params");
        systemChat "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã pl2 –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã";
    };
};

// –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
_newUnit allowDamage true;
_newUnit enableSimulation true;</code></pre>

        <h3>3. description.ext</h3>
        <pre><code>respawn = "BASE";
respawnDelay = 10;
respawnTemplates[] = {"Base"};
respawnOnStart = 1;</code></pre>

        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ</h3>
        <ul>
            <li>–°–æ–∑–¥–∞–π—Ç–µ –º–∞—Ä–∫–µ—Ä—ã —Å –∏–º–µ–Ω–∞–º–∏ <code>respawn_west</code> –∏ <code>respawn_east</code></li>
            <li>–î–ª—è —é–Ω–∏—Ç–æ–≤ pl1 –∏ pl2 –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ:
                <pre><code>this setVariable ["BIS_enableRandomization", false];</code></pre>
            </li>
        </ul>
    </div>

    <div class="card">
        <h2>üí¨ –î–∏–∞–ª–æ–≥ —Å NPC</h2>
        
        <h3>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —é–Ω–∏—Ç–∞</h3>
        <pre><code>this allowDamage false;
this disableAI "MOVE";
this setDir 180;
this addAction ["–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –ê–ª–∏—Ñ–∞—Ç–æ–º", "alifat_dialog.sqf"];</code></pre>

        <h3>alifat_dialog.sqf</h3>
        <pre><code>private ["_alifat","_player","_dialogMenu"];
_alifat = _this select 0; // –ê–ª–∏—Ñ–∞—Ç
_player = _this select 1; // –ò–≥—Ä–æ–∫

// –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–∏–∞–ª–æ–≥–∞
_titleText = "–ê–ª–∏—Ñ–∞—Ç | –ú–µ—Å—Ç–Ω—ã–π –∏–Ω—Ñ–æ—Ä–º–∞—Ç–æ—Ä";

// –°–æ–∑–¥–∞–µ–º –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –º–µ–Ω—é
_dialogMenu = [
    ["–†–∞–∑–≥–æ–≤–æ—Ä —Å –ê–ª–∏—Ñ–∞—Ç–æ–º", true],
    [parseText _titleText, [-1], "", -1, [["expression", ""]], "1", "0"],
    ["–¢—ã –∑–Ω–∞–µ—à—å —á—Ç–æ-—Ç–æ –ø—Ä–æ –ö—Ä–æ–≤–∞–≤—ã–π –∞–ª–º–∞–∑?", [2], "", -5, [["expression", " hint parseText '–ê–ª–∏—Ñ–∞—Ç –æ–≥–ª—è–¥—ã–≤–∞–µ—Ç—Å—è –ø–æ —Å—Ç–æ—Ä–æ–Ω–∞–º –∏ –ø–æ–Ω–∏–∂–∞–µ—Ç –≥–æ–ª–æ—Å:\n\n–î–∞, —è —Å–ª—ã—à–∞–ª... –û–†–§ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç –µ–≥–æ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ —Ç–∞–π–Ω–∏–∫–∞–º–∏. –ö–∞–∂–¥—ã–µ 3 –¥–Ω—è –º–µ–Ω—è—é—Ç —Ç–æ—á–∫—É...\n\n*–Ω–µ—Ä–≤–Ω–æ –æ–∑–∏—Ä–∞–µ—Ç—Å—è*'; "]], "1", "1"],
    ["–ü–æ—á–µ–º—É —Ç—ã –±–æ–∏—à—å—Å—è?", [3], "", -5, [["expression", " hint parseText '–ê–ª–∏—Ñ–∞—Ç –¥—Ä–æ–∂–∏—Ç:\n\n–û–Ω–∏ —É–±–∏–≤–∞—é—Ç –≤—Å–µ—Ö, –∫—Ç–æ –∑–Ω–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ... –í –ø—Ä–æ—à–ª–æ–º –º–µ—Å—è—Ü–µ –ø—Ä–æ–ø–∞–ª –º–æ–π —Å–æ—Å–µ–¥, –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ—Å–∏–ª –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–∞ –ø—Ä–æ –∞–ª–º–∞–∑...\n\n*—à–µ–ø–æ—Ç–æ–º* –ì–æ–≤–æ—Ä—è—Ç, –∑–∞ –Ω–∏–º —Å–ª–µ–¥–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö—É—à–∫–∞ –û–†–§!'; "]], "1", "1"],
    ["–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é", [4], "", -5, [["expression", " hint '–ê–ª–∏—Ñ–∞—Ç –±—ã—Å—Ç—Ä–æ —É—Ö–æ–¥–∏—Ç, –æ–≥–ª—è–¥—ã–≤–∞—è—Å—å —á–µ—Ä–µ–∑ –ø–ª–µ—á–æ'; "]], "1", "1"]
];

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é
showCommandingMenu "#USER:_dialogMenu";

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
systemChat "–ê–ª–∏—Ñ–∞—Ç: –¢—Å—Å—Å... –Ω–µ –ø—Ä–∏–≤–ª–µ–∫–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å...";</code></pre>
    </div>

    <div class="card">
        <h2>üöó –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</h2>
        <pre><code>this lock true;
this addAction [
    "?? –ß—É–∂–∞—è –º–∞—à–∏–Ω–∞",
    {
        hint "–≠—Ç–∞ –º–∞—à–∏–Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–º—É –≤–æ–¥–∏—Ç–µ–ª—é. –î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç!";
    },
    nil,
    1.5,
    true,
    true,
    "",
    "locked _target && player distance _target < 3",
    3
];</code></pre>
    </div>

    <div class="card">
        <h2>üéØ –ú–∞—Ä–∫–µ—Ä –Ω–∞–¥ –∑–∞–ª–æ–∂–Ω–∏–∫–æ–º</h2>
        
        <h3>init-—Å–∫—Ä–∏–ø—Ç</h3>
        <pre><code>// –°–æ–∑–¥–∞–µ–º –º–∞—Ä–∫–µ—Ä –Ω–∞–¥ –∑–∞–ª–æ–∂–Ω–∏–∫–æ–º (hostage1)
_hostageMarker = createMarker ["HostageMarker", getPos hostage1];
"HostageMarker" setMarkerType "hd_dot";
"HostageMarker" setMarkerColor "ColorGreen";
"HostageMarker" setMarkerText "–ó–∞–ª–æ–∂–Ω–∏–∫";
"HostageMarker" setMarkerSize [0.5, 0.5];

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –º–∞—Ä–∫–µ—Ä–∞
[] spawn {
    while {alive hostage1} do {
        "HostageMarker" setMarkerPos (getPos hostage1);
        sleep 0.1;
    };
    deleteMarker "HostageMarker";
};</code></pre>

        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ</h3>
        <ul>
            <li>–î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ —é–Ω–∏—Ç–∞ —Å –∏–º–µ–Ω–µ–º <code>hostage1</code></li>
            <li>–î–ª—è –¥—Ä—É–≥–∏—Ö –∏–º–µ–Ω –∏–∑–º–µ–Ω–∏—Ç–µ –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è <code>hostage1</code> –≤ —Å–∫—Ä–∏–ø—Ç–µ</li>
        </ul>
    </div>

    <a href="../index.html" class="back-button">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
</body>
</html>
